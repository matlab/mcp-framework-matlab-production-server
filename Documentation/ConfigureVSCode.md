# Configuring Microsoft&reg; VSCode with GitHub&reg; Copilot

VS Code is an MCP host but has no dedicated or built-in LLM, unlike the Claude Desktop that connects directly to Anthropic's LLMs. If you have a GitHub account, you may connect [VS Code to GitHub Copilot](https://code.visualstudio.com/docs/copilot/setup) and interact with Copilot's AI agent.

VS Code supports two types of MCP Servers:
* STDIO: Local server that communicates via standard IO.
* HTTP: Local or remote server that communicates via HTTP.

Both types of servers use the JSONRPC protocol, but STDIO servers must run on the same machine as VS Code, while HTTP servers are more flexible and may run on any machine reachable via the network. MCP Framework for MATLAB Production Server builds HTTP servers.

In this example, you will add both types of servers to VS Code.

# Periodic Noise Example
MCP hosts orchestrate the interaction of multiple MCP tools in response to a user prompt. Configure VS Code with these tools:
* [cleanSignal](../Examples/Periodic%20Noise/PeriodicNoise.md), which removes periodic noise of a given frequency from an observed signal. 
* [linePlot](./linePlot.md), which generates a simple line graph from a CSV file.

`cleanSignal` is an HTTP server created by MCP Framework for MATLAB Production Server and hosted by MATLAB Production Server. `linePlot` is a STDIO server created with the FastMCP Python package.

Then issue this prompt:

> Remove the 60Hz periodic noise from the signal in openloopVoltage.csv and generate a line graph of the result.

VSCode and Copilot will:
1. Locate (and possibly examine) the `openloopVoltage.csv` file.
2. Call the `cleanSignal` tool, passing it the location of `openloopVoltage.csv` and the name and location of an output file.
3. Call the `linePlot` tool, passing it the full path to the filtered signal generated by `cleanSignal` and the name and location of an output file for the generated graph (a JPG file).
4. Communicate the results -- in particular the name of the output signal and graph files.

Note that VS Code manages the name and location of the tools' outputs itself -- the prompt does not specify or even mention them.

## Setup

1. Build and deploy the [cleanSignal](../Examples/Periodic%20Noise/PeriodicNoise.md) MCP tool as shown.
2. Ensure the Python packages `FastMCP` and `matplotlib` are installed.
3. Start VS Code and use "Open Folder" to create a new project folder.
4. Connect [VS Code to GitHub Copilot](https://code.visualstudio.com/docs/copilot/setup), if it isn't already connected.
5. [Configue VS Code](https://code.visualstudio.com/docs/copilot/customization/mcp-servers) to use the `linePlot` and `cleanSignal` MCP tools.
6. Look closely at the decorations above each server name in `mcp.json` to ensure that both servers are running.

## VS Code MCP Server Configuration

This configuration uses Microsoft Windows&reg; paths and commands. 

Assumptions:
* Python is available on your system path as the command "s:/MCP/Examples/.venv/Scripts/python.exe". The ".venv/Scripts" portion of the path indicates the use of a Python virutal environment.
* The MCP Framwork (this repo) installed in a folder named s:\MCP\MCPFramework.
* Log files should be written to `s:/MCP/logs/vscode`.
* The MATLAB Production Server hosting the `cleanSignal` MCP tools has the network address "http://localhost:9910".
Modify the configuration as necessary for your environment.

For reference, your MCP Server Configuration file, `mcp.json`, should look like this:

```json
{
	"servers": {
		"clean-signal": {
			"url": "http://localhost:9910/cleanSignal/mcp",
			"type": "http"
		},
		"linePlot": {
			"type": "stdio",
			"command": "s:/MCP/Examples/.venv/Scripts/python.exe",
			"args": [
				"s:/MCP/MCPFramework/Utilities/linePlot.py",
                "--log-level", "DEBUG",
		        "--log-dir", "s:/MCP/logs/vscode",
				"--timeout", "300"
			]
		}
	},
	"inputs": []
}
```